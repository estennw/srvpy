"""
This submodule contains sample curves, taken from svg paths.
"""

# External dependencies:
import numpy as np
from svgpathtools import path, Path

class Curve:

    def __init__(self,str,unit_length=False):
        self.path = Path(str)
        self.length = self.path.length()
        self.unit_length = unit_length

    def __call__(self,t,):
        return self.c(t)

    def c(self,t):
        c = np.array([self.path.point(t) for t in t])
        if self.unit_length:
            return c/self.length
        return c

    def v(self,t):
        v = np.array([self.path.derivative(t) for t in t])
        if not self.unit_length:
            return v*self.length
        return v

    def q(self,t):
        v = np.array([self.path.derivative(path.inv_arclength(self.path,t)) for t in t*self.length])
        if not self.unit_length:
            v = v*self.length
        vabs = np.abs(v)
        vabs[vabs==0] = 1
        return v/np.sqrt(vabs)



from scipy.special import comb

def bernstein(t,n,d=0):
    if n==0:
        if d>0:
            return np.zeros((1,t.shape[0]))
        return np.ones((1,t.shape[0]))
    if d>0:
        b = np.zeros((n+1,t.shape[0]))
        b[1:] = bernstein(t,n-1,d-1)
        b[:-1] -= b[1:]
        return n*b

    j = np.arange(0,n+1)[:,None]
    t = t[None,:]
    return comb(n,j) * t**j * (1-t)**j[::-1]



class Bezier:

    def __init__(self,p):
        self.p = p
        self.n = p.shape[0]

    def __call__(self,t,d=0):
        return (self.p[:,None]*bernstein(t,self.n-1,d)[:,:]).sum(axis=0)






class CompositeBezier:

    def __init__(self,segs,s):
        self.segs = segs
        self.s = s
        self.nseg = len(segs)

    def __call__(self,t,d=0):
        idx = np.clip(np.searchsorted(self.s,t,'right'),1,self.nseg)-1
        t_ = (t-self.s[idx])/np.diff(self.s)[idx]
        b = np.piecewise(t_+0j, [idx==i for i in range(self.nseg)], self.segs, d)
        return b/(np.diff(self.s)[idx])**d


def from_svg_path(pathstr):
    pathstr = Path(pathstr)
    pathstr._calc_lengths()
    s = np.r_[0,np.cumsum(pathstr._lengths)]
    segs = []
    for seg in pathstr._segments:
        if isinstance(seg,path.Line):
            segs += [Bezier(np.array([seg.start,seg.end]))]
        elif isinstance(seg,path.QuadraticBezier):
            segs += [Bezier(np.array([seg.start,seg.control,seg.end]))]
        elif isinstance(seg,path.CubicBezier):
            segs += [Bezier(np.array([seg.start,seg.control1,seg.control2,seg.end]))]
        else:
            raise NotImplementedError('')
    return CompositeBezier(segs,s)











PAWN="m 0,0 h 5.027083 c 0.529166,0 0.79375,0.26458 0.79375,0.79375 0,0.5291701 -0.79375,0.5291701 -0.79375,1.0583301 0,0.52917 0.529166,0.26459 0.529166,0.79375 0,0.52917 -3.174999,2.91042 -3.174999,3.70417 0,0.52917 0.264584,0.26458 0.264584,0.7937501 C 2.645834,7.6729202 0,7.9375002 0,16.40417 c 0,1.05832 3.175,0.26458 3.175,1.32291 0,1.05834 -2.910416,0.79375 -2.910416,1.5875 0,0.79375 2.116666,0.79375 2.116666,4.23334 0,2.11666 -1.851611,4.23333 -4.497917,4.23333 -2.6463056,0 -4.4979162,-2.11667 -4.4979166,-4.23333 -6e-7,-3.43959 2.116667,-3.43959 2.116667,-4.23334 0,-0.79375 -2.910417,-0.52916 -2.910417,-1.5875 0,-1.05833 3.175001,-0.26459 3.175001,-1.32291 0,-8.4666698 -2.645834,-8.7312498 -2.645834,-9.2604198 0,-0.5291701 0.264583,-0.2645801 0.264583,-0.7937501 0,-0.79375 -3.1750001,-3.175 -3.1750001,-3.70417 0,-0.52916 0.529167,-0.26458 0.529167,-0.79375 0,-0.52916 -0.7937503,-0.52916 -0.7937503,-1.0583301 C -10.054167,0.26458 -9.7895837,0 -9.2604167,0 h 5.0270831"

KNIGHT="m 0,0 h 6.350003 c 0.529167,0 0.79375,0.2646 0.79375,0.79375 v 0.2646 c 0,0.26457 -0.529167,0.26457 -0.529167,0.79375 0,0.52915 0.529167,0.26457 0.529167,0.79375 0,0.52915 -3.439583,2.64582 -3.439583,4.4979001 0,1.8521 1.322914,2.64582 1.322914,3.1749999 0,0.26457 -0.264583,0.26457 -0.264583,0.52916 -1e-6,0.52917 0.996951,0.271654 1.058333,0.52919 0.231855,0.972771 0.491302,1.822002 0.472781,2.9104 -0.06966,4.093452 -3.738528,6.3139 -6.008112,8.31328 -0.268666,0.23667 -0.496546,-0.0613 -0.700685,0.1017 -0.242451,0.19353 0.07539,0.41411 -0.09039,0.60424 -0.187232,0.21476 -0.522004,-0.059 -0.653007,0.12668 -0.155118,0.21991 0.142536,0.43356 -0.08979,0.67597 -0.312248,0.32576 -0.504442,0.63947 -0.478087,0.91507 0.05087,0.53196 0.444188,1.46712 1.772378,1.46712 1.322917,0 3.322781,-1.22465 3.564275,-1.76523 0.101039,-0.22617 0.25047,0.0943 0.587258,0.37857 0.239366,0.20202 0.667578,0.1018 0.766392,0.33326 0.152813,0.35808 -0.831575,0.45192 -0.731631,0.92745 0.06434,0.30614 0.606526,0.10977 0.791006,0.29076 0.791049,0.77757 0.68824,1.63414 0.521415,1.92112 -0.105199,0.18096 -0.489069,0.51019 -0.89608,0.84198 -0.181314,0.14781 0.0751,0.75544 -0.18133,0.90805 -0.454734,0.27062 -1.014182,0.28751 -1.505924,0.45038 -1.419858,0.47026 -3.404879,1.62097 -6.665455,1.73732 -0.528831,0.0189 -0.328171,0.58251 -0.328171,1.11168 0,0.52916 -0.200996,1.04314 -0.465579,1.04314 -0.19721,0 -0.377484,-0.43171 -0.669058,-0.81918 -0.928524,-1.23391 -2.446372,-1.25186 -3.486146,-2.09984 -0.458008,-0.37353 0.06388,-0.58116 -0.29731,-0.89094 -0.412034,-0.3534 -1.154339,-1.03061 -1.405332,-1.73191 -0.269286,-0.75241 0.370373,-0.61432 0.153493,-1.18678 -0.325968,-0.86037 -0.425715,-1.48434 -0.288395,-2.42559 0.118393,-0.81152 0.556494,-0.23825 0.621763,-1.00769 0.05989,-0.70597 -0.03956,-1.1051 0.124718,-2.09549 0.137516,-0.82903 0.489878,-0.2098 0.585844,-1.0612 0.08302,-0.73667 -0.180608,-1.27047 0.07257,-2.56681 0.150929,-0.77279 0.439985,-0.25508 0.39035,-1.07283 -0.04683,-0.77145 -0.401666,-1.00301 -0.5823,-2.1917 -0.133361,-0.8776 0.39377,-0.55744 0.09264,-1.27326 -0.425973,-1.01258 -1.330077,-1.83537 -1.296514,-2.88036 0.01064,-0.33141 1.485744,0.0106 1.48576,-0.51859 7e-6,-0.26459 -0.264584,-0.26459 -0.264584,-0.52917 0,-0.5291699 1.32292,-1.3228999 1.32292,-3.1749899 0,-1.8520801 -3.439583,-3.9687501 -3.439583,-4.4979101 0,-0.52917 0.529165,-0.26459 0.529165,-0.79375 0,-0.52917 -0.529165,-0.52917 -0.529165,-0.79375 V 0.79371 c 0,-0.52916 0.264583,-0.79375 0.79375,-0.79375 h 6.350001"

BISHOP="m 0,0 h 6.879167 c 0.529166,0 0.79375,0.26459 0.79375,0.79375 v 1.32291 c 0,0.52918 -0.79375,0.52918 -0.79375,1.05834 0,0.52916 0.529166,0.52916 0.529166,1.05834 0,0.79375 -3.96875,2.9104001 -3.96875,4.2333201 0,0.52918 0.264584,0.26458 0.264584,0.79375 0,0.52918 -3.174984,1.3229099 -3.175,11.1124999 -3e-6,0.79375 3.96875,0 3.96875,0.79375 0,0.79375 -1.5875,0.52918 -1.5875,1.05833 0,0.2646 0.264583,0.2646 0.264583,0.52917 0,0.79375 -1.852083,0.457609 -1.852083,1.32293 v 1.5875 c 0,0.52915 1.058333,0.26457 1.058333,0.79374 0,0.52916 -0.264583,0.26458 -0.264583,0.79375 0,0.52916 1.322916,0.79375 1.322916,3.70416 0,2.28504 -1.160848,3.76777 -2.303076,5.29838 -0.08979,0.12033 -0.408776,0.13427 -0.610171,-0.17411 -0.110408,-0.16906 -1.955148,-3.61724 -2.295655,-3.23329 -0.34861,0.39309 1.579835,3.51248 1.804493,3.87715 0.144589,0.2347 0.10818,0.78734 -0.112112,1.03642 -0.587439,0.66421 -0.981377,1.15803 -0.981377,1.39753 0,0.79375 0.79375,0.52917 0.79375,1.32292 0,0.79375 -0.79375,1.05833 -1.852083,1.05833 -1.058333,0 -1.852083,-0.26458 -1.852083,-1.05833 0,-0.79375 0.79375,-0.52917 0.79375,-1.32292 0,-0.79375 -4.497917,-3.70416 -4.497917,-8.20209 0,-2.91041 1.322917,-3.175 1.322917,-3.70416 0,-0.52917 -0.264584,-0.26459 -0.264584,-0.79375 0,-0.52916 1.058334,-0.26459 1.058334,-0.79375 v -1.5875 c 0,-0.865301 -1.852084,-0.52916 -1.852084,-1.32291 0,-0.26459 0.264584,-0.26459 0.264584,-0.52918 0,-0.52916 -1.5875,-0.26457 -1.5875,-1.05832 0,-0.79375 3.96875,0 3.96875,-0.79375 2e-6,-9.78959 -3.175,-10.5833399 -3.175,-11.1124999 0,-0.52918 0.264583,-0.26459 0.264583,-0.79375 0,-1.32293 -3.96875,-3.4395901 -3.96875,-4.2333401 0,-0.52916 0.529167,-0.52916 0.529167,-1.05833 0,-0.52917 -0.79375,-0.52917 -0.79375,-1.05833 V 0.79374 c 0,-0.52917 0.264583,-0.79375 0.79375,-0.79375 h 6.879166"

ROOK="m 0,0 h 6.085422 c 0.529169,0 0.79375,0.26458 0.79375,0.79375 v 1.05833 c 0,0.26459 -0.79375,0.26459 -0.79375,0.79375 0,0.52917 0.529169,0.26459 0.529169,0.79375 0,0.52917 -1.322914,3.9687501 -1.5875,4.4979201 -0.264583,0.52917 -1.322916,0.52917 -1.322916,0.79375 0,0.26458 1.058334,0 1.058328,0.52917 -6e-6,0.52916 -2.910417,2.9104099 -2.910417,14.5520799 0,0.79375 1.058336,0.26458 1.058336,0.79375 0,0.52917 0,0.79375 0.529169,0.79375 h 0.529162 c 0.264588,0 0.264588,0 0.264588,0.26458 0,0.26459 0,2.38125 0.264581,3.175 0.264581,0.79375 0.264581,1.32292 -0.264581,1.32292 H 2.381263 c -0.529172,0 -0.529172,-0.52916 -0.529172,-1.05833 0,-0.26458 -0.264578,-0.26458 -0.264578,-0.26458 h -0.52918 c 0,0 -0.26458,0 -0.26458,0.26458 0,0.52917 0,1.05856 -0.52917,1.05833 -0.705559,-2.9e-4 -4.056943,-3.7e-4 -4.7625,0 -0.529172,2.7e-4 -0.529172,-0.52916 -0.529172,-1.05833 0,-0.26458 -0.264578,-0.26458 -0.264578,-0.26458 h -0.529172 c 0,0 -0.264578,0 -0.264578,0.26458 0,0.52917 0,1.05833 -0.529172,1.05833 h -1.85207 c -0.529158,0 -0.529158,-0.52917 -0.264578,-1.32292 0.264578,-0.79375 0.264578,-2.91041 0.264578,-3.175 0,-0.26458 0,-0.26458 0.264592,-0.26458 h 0.529158 c 0.529172,0 0.529172,-0.26458 0.529172,-0.79375 0,-0.52917 1.058336,0 1.058336,-0.79375 0,-11.64167 -2.910435,-14.0229199 -2.910417,-14.5520799 1.8e-5,-0.52917 1.058326,-0.26459 1.058326,-0.52917 0,-0.26458 -1.058331,-0.26458 -1.322917,-0.79375 -0.264586,-0.52917 -1.5875,-3.9687501 -1.5875,-4.4979201 0,-0.52916 0.529172,-0.26458 0.529172,-0.79375 0,-0.52916 -0.79375,-0.52916 -0.79375,-0.79375 V 0.79375 C -11.112487,0.26458 -10.847909,0 -10.318737,0 h 6.085422"

QUEEN="m 0,0 h 7.937497 c 0.52917,0 0.79375,0.2646 0.79375,0.79375 V 1.8521 c 10e-6,0.52916 -1.05833,0.52915 -1.05833,1.3229 0,0.79375 0.79375,0.52917 0.79375,1.3229205 0,0.79375 -4.23335,4.7625 -4.23334,6.0854305 0,0.79375 0.26459,1.05832 0.26459,1.5875 0,1.3229 -3.704227,0.79373 -3.704227,17.99165 0,1.05834 4.762557,0.26459 4.762557,1.32292 0,1.05833 -2.11665,0.79375 -2.11666,1.32292 0,0.26458 0.26458,0.26458 0.26458,0.52916 0,0.52917 -1.852077,0.26459 -1.852077,0.79375 v 1.32292 c 0,0.52917 0.793747,0.26458 0.793747,0.79375 0,0.52917 -0.529167,0.52917 -0.529167,1.05833 0,0.88448 -0.26457,3.96875 0.529167,5.55625 0.52916,1.05834 1.05833,1.5875 1.32291,1.85209 0.26459,0.26458 -0.52916,1.05833 -0.79375,0.79375 -0.26458,-0.26459 -0.26458,-0.52917 -0.793747,-0.52917 -0.0894,0 -0.17117,0.003 -0.24549,0.003 -0.54826,-0.003 -0.81285,0.0864 -0.81284,0.52617 0,0.26458 -1.05833,0.26458 -1.05833,0 0,-0.43057 -0.004,-0.53259 -0.52917,-0.52917 -0.0803,5.3e-4 -0.43057,0 -0.52917,0 -0.52916,0 -0.52916,0.26458 -0.52916,0.52917 0,0.52916 0.52916,0.79375 0.52916,1.5875 0,0.79375 -0.52923,1.32365 -1.32295,1.32365 -0.793783,0 -1.322883,-0.5299 -1.322883,-1.32365 0,-0.79375 0.52917,-1.05834 0.52917,-1.5875 0,-0.26459 0,-0.52917 -0.52924,-0.52917 -0.0986,0 -0.448867,5.3e-4 -0.529167,0 -0.525167,-0.003 -0.529167,0.0986 -0.529167,0.52917 0,0.26458 -1.058324,0.26458 -1.058324,0 2e-5,-0.43977 -0.26458,-0.52917 -0.812824,-0.52617 -0.0743,0 -0.1561,-0.003 -0.2455,-0.003 -0.529167,0 -0.529167,0.26458 -0.793747,0.52917 -0.264577,0.26458 -1.058324,-0.52917 -0.793744,-0.79375 0.264577,-0.26459 0.793744,-0.79375 1.322911,-1.85209 0.793727,-1.5875 0.529157,-4.67177 0.529157,-5.55625 0,-0.52916 -0.529157,-0.52916 -0.529157,-1.05833 0,-0.52917 0.793747,-0.26458 0.793747,-0.79375 v -1.32292 c 0,-0.52916 -1.852081,-0.26458 -1.852081,-0.79375 0,-0.26458 0.26459,-0.26458 0.26459,-0.52916 -2e-5,-0.52917 -2.116658,-0.26459 -2.116658,-1.32292 0,-1.05833 4.762473,-0.26458 4.762473,-1.32292 0,-17.19792 -3.704149,-16.66875 -3.704149,-17.99165 0,-0.52918 0.264597,-0.79375 0.264597,-1.5875 0,-1.3229305 -4.233326,-5.2916805 -4.233326,-6.0854305 0,-0.7937505 0.793747,-0.5291705 0.793747,-1.3229205 0,-0.79375 -1.058334,-0.79374 -1.058324,-1.3229 V 0.79375 C -12.964599,0.2646 -12.700022,0 -12.170855,0 h 7.937458"

KING="m 0,0 h 7.9375 c 0.52917,0 0.79375,0.26457 0.79375,0.79375 v 1.05832 c 0,0.52918 -0.79375,0.52918 -0.79375,1.05835 0,0.52915 0.79375,0.52915 0.79375,1.05833 0,1.32292 -5.55625,5.2916705 -5.55625,6.87915 0,0.79375 0.52916,0.79375 0.52916,1.32293 0,0.52916 -2.91041,3.704171 -2.91041,19.050011 0,0.79375 4.49792,0.26458 4.49792,1.05833 0,0.62106 -2.38126,0.52916 -2.38126,1.32291 v 0.52917 c 0,0.52917 -1.5875,0 -1.5875,0.52917 v 1.32291 c 0,0.52917 0.79375,0.26459 0.79375,0.79375 0,0.52917 -0.52916,0.26459 -0.52916,0.79375 0,0.52916 2.11666,5.02709 2.11666,5.82084 0,0.79375 -0.26458,0.79375 -0.79375,0.79375 H 0.79375 c -0.26459,0 -0.26459,0 -0.26459,0.26458 v 0.52917 c 0,0.26458 0,0.26458 -0.26458,0.26458 -0.26458,0 -0.52917,-0.0506 -0.52917,0.26458 v 0.26459 c 0,0.26458 0.26459,0.26458 0.26459,0.52916 0,0.52917 -0.52917,0.26459 -0.52917,0.79375 v 0.26459 c 0,0.52916 0.26458,0.52916 0.52917,0.52916 h 0.79375 c 0.26458,0 0.26458,0.26459 0.26458,0.52917 v 1.5875 c 0,0.26458 0,0.26458 -0.26458,0.26458 h -1.32292 c -0.26458,0 -0.26458,0 -0.26458,0.26459 0,0.26458 0.26458,0.52916 0.26458,1.05833 0,0.52917 -0.79375,1.05834 -1.5874996,1.05833 -0.79375,-1e-5 -1.5875,-0.52916 -1.5875,-1.05833 0,-0.52917 0.26458,-0.79375 0.26458,-1.05833 0,-0.26459 0,-0.26459 -0.26458,-0.26459 h -1.32292 c -0.26458,0 -0.26458,0 -0.26458,-0.26458 v -1.5875 c 0,-0.26458 0,-0.52917 0.26458,-0.52917 h 0.79375 c 0.26459,0 0.52917,0 0.52917,-0.52916 v -0.26459 c 0,-0.52916 -0.52917,-0.26458 -0.52917,-0.79375 0,-0.26458 0.26459,-0.26458 0.26459,-0.52916 v -0.26459 c 0,-0.31518 -0.26459,-0.26458 -0.52917,-0.26458 -0.26458,0 -0.26458,0 -0.26458,-0.26458 v -0.52917 c 0,-0.26458 0,-0.26458 -0.26459,-0.26458 h -2.11666 c -0.52917,0 -0.79375,0 -0.79375,-0.79375 0,-0.79375 2.11666,-5.29168 2.11666,-5.82084 0,-0.52916 -0.52916,-0.26458 -0.52916,-0.79375 0,-0.52916 0.79375,-0.26458 0.79375,-0.79375 v -1.32291 c 0,-0.52917 -1.5875,0 -1.5875,-0.52917 v -0.52917 c 0,-0.79375 -2.38126,-0.70185 -2.38126,-1.32291 0,-0.79375 4.49792,-0.26458 4.49792,-1.05833 0,-15.34584 -2.91041,-18.520851 -2.91041,-19.050011 0,-0.52918 0.52916,-0.52918 0.52916,-1.32293 0,-1.5874795 -5.5562504,-5.55623 -5.5562504,-6.87915 0,-0.52918 0.79375,-0.52918 0.79375,-1.05833 0,-0.52917 -0.79375,-0.52917 -0.79375,-1.05835 V 0.79375 C -12.96459,0.26457 -12.70001,0 -12.17084,0 h 7.9375004"

HAND3 = "m 32.109658,294.33893 c -0.151308,-1.30583 -0.302589,-2.61143 -0.0266,-3.61057 0.275993,-0.99914 1.00545,-1.7179 1.51248,-2.46862 0.507031,-0.75071 0.804992,-1.54633 1.251489,-2.31136 0.446497,-0.76504 1.041422,-1.49951 1.445717,-2.23744 0.404295,-0.73792 0.613934,-1.46481 0.929054,-2.23934 0.315119,-0.77452 0.704627,-1.52413 1.027615,-2.07536 0.322987,-0.55123 0.549762,-0.85181 0.501954,-1.26476 -0.04781,-0.41295 -0.373898,-0.93324 -0.849245,-0.90393 -0.475348,0.0293 -1.100057,0.60816 -1.691153,1.37388 -0.591095,0.76571 -1.13329,1.69278 -1.673177,2.43393 -0.539887,0.74115 -1.022984,1.22159 -1.304488,0.73494 -0.281504,-0.48665 -0.346292,-1.9326 -0.20757,-3.35279 0.138723,-1.42018 0.474218,-2.74389 0.67511,-3.76227 0.200893,-1.01837 0.263068,-1.71497 0.356622,-2.55496 0.09355,-0.84 0.222481,-1.85494 0.167393,-2.53015 -0.05509,-0.67522 -0.292249,-1.02691 -0.575057,-1.17927 -0.282808,-0.15236 -0.611763,-0.10551 -0.907183,0.43518 -0.295419,0.5407 -0.566317,1.61177 -0.783462,2.53643 -0.217146,0.92466 -0.384932,1.7202 -0.510832,2.40428 -0.1259,0.68409 -0.209633,1.25535 -0.282799,1.71604 -0.07317,0.46069 -0.135691,0.8103 -0.333833,1.12712 -0.198141,0.31682 -0.531166,0.59984 -0.683099,0.0799 -0.151933,-0.51991 -0.121596,-1.84087 -0.220755,-3.04141 -0.09916,-1.20053 -0.327796,-2.2794 -0.513407,-3.38524 -0.185611,-1.10583 -0.328212,-2.23859 -0.605916,-2.85724 -0.277705,-0.61865 -0.690602,-0.72334 -1.053519,-0.66642 -0.362918,0.0569 -0.675383,0.27546 -0.728922,0.9329 -0.05354,0.65743 0.152386,1.75092 0.304845,2.75801 0.152459,1.00709 0.251023,1.92523 0.293706,2.70077 0.04268,0.77553 0.02942,1.40391 0.111193,2.02556 0.08177,0.62165 0.256931,1.22368 0.188454,1.29115 -0.06848,0.0675 -0.381343,-0.40288 -0.88048,-0.525 -0.499136,-0.12212 -1.184755,0.10425 -1.479632,0.55359 -0.294876,0.44933 -0.198761,1.12105 -0.277972,1.29639 -0.07921,0.17534 -0.333417,-0.14661 -0.752134,-0.125 -0.418717,0.0216 -0.991243,0.3805 -1.26039,0.89737 -0.269148,0.51687 -0.215092,1.15409 -0.23117,1.94903 -0.01608,0.79493 -0.103337,1.73479 -0.136194,2.60648 -0.03286,0.87169 -0.01127,1.67458 0.131643,2.54314 0.142908,0.86856 0.406998,1.80192 0.685563,2.59417 0.278565,0.79224 0.583454,1.46952 0.791681,2.07494 0.208227,0.60541 0.332218,1.18244 0.36695,1.84374 0.03473,0.66129 -0.01659,1.42144 -0.06795,2.18215"

HAND5 = "m 12.881111,294.33893 c -0.151308,-1.30585 -0.302588,-2.61146 0.01182,-3.62425 0.314408,-1.01279 1.123585,-1.75988 1.657158,-2.67968 0.533574,-0.9198 0.806394,-2.02574 1.393371,-3.27749 0.586977,-1.25176 1.470403,-2.62204 2.051994,-3.69005 0.58159,-1.068 0.812824,-1.74007 1.103632,-2.27546 0.290808,-0.53539 0.61679,-0.88449 0.639556,-1.26899 0.02277,-0.38449 -0.263081,-0.79851 -0.657931,-0.85611 -0.394849,-0.0576 -0.898882,0.24124 -1.379799,0.7202 -0.480917,0.47896 -0.937569,1.137 -1.527405,2.06524 -0.589835,0.92823 -1.310574,2.12307 -1.763543,1.98475 -0.45297,-0.13831 -0.63313,-1.59171 -0.553591,-3.01574 0.07954,-1.42402 0.415033,-2.74773 0.615925,-3.76611 0.200893,-1.01837 0.263068,-1.71497 0.356622,-2.55496 0.09355,-0.84 0.222481,-1.85494 0.167393,-2.53015 -0.05509,-0.67522 -0.292247,-1.02691 -0.575068,-1.17926 -0.282822,-0.15236 -0.611752,-0.10552 -0.907172,0.43517 -0.295419,0.5407 -0.566317,1.61177 -0.783462,2.53643 -0.217146,0.92466 -0.384932,1.7202 -0.510831,2.40429 -0.1259,0.68408 -0.209633,1.25534 -0.282799,1.71603 -0.07317,0.46069 -0.135691,0.8103 -0.333833,1.12712 -0.198141,0.31682 -0.531166,0.59984 -0.618098,0.0909 -0.08693,-0.5089 0.07312,-1.80787 0.169836,-2.94738 0.09672,-1.13952 0.129991,-2.11884 0.175138,-3.18104 0.04515,-1.0622 0.102203,-2.20823 -0.114636,-2.88773 -0.216839,-0.67951 -0.707558,-0.89312 -1.101565,-0.89069 -0.3940076,0.002 -0.6909381,0.22099 -0.830129,0.8784 -0.139191,0.6574 -0.1197824,1.75122 -0.1696869,2.71144 -0.049905,0.96022 -0.1691135,1.78534 -0.2276437,2.56077 -0.05853,0.77542 -0.056298,1.50026 -0.037072,2.167 0.019225,0.66674 0.055082,1.26877 -0.1176096,1.70666 -0.1726918,0.43789 -0.5532535,0.70719 -0.7102472,0.30757 -0.1569937,-0.39962 -0.088576,-1.46465 -0.1234888,-2.38775 -0.034913,-0.9231 -0.171383,-1.69145 -0.2412549,-2.50117 -0.069872,-0.80973 -0.067947,-1.59696 -0.1191094,-2.27239 -0.051163,-0.67543 -0.1554897,-1.2226 -0.4822286,-1.47138 -0.326739,-0.24878 -0.8762716,-0.19959 -1.162863,0.0816 -0.2865914,0.2812 -0.3099923,0.7947 -0.2859951,1.64926 0.023997,0.85457 0.095332,2.04874 0.1437942,3.08716 0.048462,1.03842 0.074898,1.95138 0.1515461,2.75191 0.076648,0.80052 0.2038558,1.50333 0.1273941,1.97641 -0.076462,0.47308 -0.3563907,0.71432 -0.4838567,0.43621 -0.1274659,-0.2781 -0.1015328,-1.07487 -0.2698012,-2.06421 -0.1682685,-0.98933 -0.53069,-2.17069 -0.7775618,-2.98687 -0.2468719,-0.81618 -0.3781838,-1.26713 -0.6532378,-1.43196 -0.2750539,-0.16484 -0.6934271,-0.0434 -0.8981996,0.30514 -0.2047724,0.3486 -0.1949555,0.92406 -0.1022944,1.74331 0.092661,0.81924 0.2684058,1.88377 0.4463196,2.88523 0.1779137,1.00146 0.3515231,1.90617 0.4073895,2.93645 0.055866,1.03029 -0.00939,2.16823 -0.03124,3.13895 -0.021847,0.97073 -2.553e-4,1.77362 0.1426531,2.64218 0.1429084,0.86856 0.4069985,1.80192 0.6855633,2.59417 0.2785648,0.79224 0.5834541,1.46952 0.7916809,2.07494 0.2082267,0.60541 0.3322178,1.18244 0.3669495,1.84374 0.034732,0.66129 -0.016588,1.42144 -0.067946,2.18215"


WAVE1 ="M 0.67044437,0.53334045 C -0.11760619,4.9523202 -0.92106853,9.4577213 -1.0347073,12.20197 c -0.1136388,2.744248 0.45474253,3.770523 1.85679316,3.926634 1.40205064,0.156112 3.63768264,-0.557819 6.57440884,-1.628751 2.9367263,-1.070932 6.5743653,-2.498793 8.9426973,-2.56566 2.368332,-0.06687 3.467202,1.227131 5.66501,4.707675 2.197809,3.480543 5.494418,9.147364 7.881701,12.382412 2.387283,3.235047 3.865071,4.038218 4.94502,4.72987 1.079948,0.691652 1.762004,1.271719 2.899478,1.714405 1.137473,0.442685 2.803386,0.762036 3.561188,1.208286 0.757802,0.44625 0.644125,1.026316 -0.245878,1.055797 -0.890003,0.02948 -2.577047,-0.498039 -3.49129,-0.598432 -0.914242,-0.100393 -1.065808,0.223102 -0.165777,1.093252 0.900031,0.870149 2.851451,2.28684 3.670838,3.212723 0.819386,0.925884 0.506772,1.360945 -0.483142,0.886848 -0.989914,-0.474097 -2.657163,-1.857337 -3.566647,-2.437436 -0.909483,-0.580099 -1.061051,-0.356999 -0.218592,0.745724 0.84246,1.102723 2.643782,3.047142 3.268974,4.207258 0.625193,1.160116 0.05681,1.517083 -1.004176,0.669303 -1.060983,-0.847781 -2.614558,-2.90033 -3.475618,-3.807658 -0.86106,-0.907328 -1.071562,-0.609874 -0.427327,0.52803 0.644234,1.137904 2.122026,3.145837 2.652494,4.283636 0.530467,1.1378 0.11365,1.405526 -0.682081,0.780858 -0.795732,-0.624667 -1.970386,-2.141769 -2.879824,-3.391179 -0.909438,-1.24941 -1.553604,-2.231064 -2.103042,-2.744256 -0.549438,-0.513193 -1.004144,-0.557813 -0.947323,0.200816 0.05682,0.758629 0.625202,2.320352 0.68202,3.279665 0.05682,0.959313 -0.397888,1.31628 -0.955904,0.672757 -0.558015,-0.643524 -1.2608,-2.390639 -1.582911,-3.974725 -0.32211,-1.584087 -0.284217,-3.05657 -0.56839,-4.350599 -0.284174,-1.294029 -0.890448,-2.409545 -2.917738,-5.042263 -2.027291,-2.632718 -5.475468,-6.782438 -7.730092,-9.035859 -2.254624,-2.253421 -3.315602,-2.610386 -5.816615,-1.115547 -2.5010138,1.494839 -6.4417887,4.841388 -9.4732153,6.871669 -3.03142655,2.03028 -5.1533837,2.744211 -7.2185489,3.190432 -2.0651651,0.446221 -4.0734438,0.624704 -5.342876,0.825499 -1.2694318,0.200796 -1.7999208,0.423898 -2.0651878,1.294085 -0.265266,0.870186 -0.265266,2.387289 0.01897,3.525148 0.284236,1.13786 0.852618,1.896411 1.117829,2.521112 0.265211,0.624701 0.227319,1.115528 0.388214,1.405659 0.160895,0.290131 0.5545711,0.388102 0.9145181,1.191329 0.359947,0.803227 0.703282,2.315876 0.6854779,3.183699 -0.017804,0.867824 -0.3967243,1.090926 -0.3588239,2.18423 0.0379,1.093304 0.4926059,3.056615 -0.1894985,4.93069 -0.6821044,1.874074 -2.5009236,3.6589 -4.6228976,4.261293 -2.121973,0.602393 -4.547065,0.02233 -6.32806,-1.383236 -1.780994,-1.405561 -2.917756,-3.636594 -3.207449,-5.189809 -0.289693,-1.553214 0.289624,-2.462797 0.384407,-3.042862 0.09478,-0.580064 -0.284136,-0.847788 -0.284187,-1.762545 -5.2e-5,-0.914756 0.378869,-2.476481 0.704076,-3.317331 0.325206,-0.840849 0.660054,-0.988714 0.81161,-1.412574 0.151556,-0.42386 0.151556,-1.316274 0.397856,-2.052572 0.246301,-0.736297 0.738897,-1.405606 0.966263,-2.431881 0.227366,-1.026275 0.189474,-2.409514 -0.09468,-3.279652 -0.284156,-0.870138 -0.814644,-1.227103 -3.050359,-2.208805 -2.235714,-0.981702 -6.176489,-2.588046 -8.506945,-5.622325 -2.330457,-3.034278 -3.050406,-7.496344 -3.703785,-11.837089 -0.653379,-4.3407438 -1.240149,-8.5599109 -1.826944,-12.77926355"

WAVE2 = "M 0.30370049,0.89289436 C 0.41088087,5.1840862 0.51805896,9.4751862 0.97358036,13.387696 1.4291018,17.300207 2.2329117,20.833977 3.1707179,25.977051 c 0.9378062,5.143074 2.0095566,11.895112 2.0899172,15.776001 0.080361,3.880889 -0.8306256,4.890537 -4.0459736,6.531262 -3.215348,1.640724 -8.7348532,3.912433 -11.7626225,5.20608 -3.027768,1.293646 -3.56364,1.609161 -4.421067,2.114004 -0.857427,0.504843 -2.036353,1.19898 -3.242083,1.609161 -1.20573,0.410181 -2.438244,0.536386 -3.724397,0.851909 -1.286153,0.315523 -2.625838,0.820349 -3.389479,0.788851 -0.76364,-0.0315 -0.951193,-0.599417 -0.06695,-1.072767 0.88424,-0.473349 2.840182,-0.851968 3.650722,-1.191113 0.81054,-0.339145 0.475627,-0.638877 -0.810542,-0.544265 -1.286169,0.09461 -3.523446,0.583662 -4.642134,0.512718 -1.118688,-0.07094 -1.118688,-0.701984 -0.04686,-1.080657 1.071827,-0.378674 3.215326,-0.504881 4.233492,-0.725693 1.018165,-0.220811 0.910989,-0.536331 -0.368449,-0.552163 -1.279438,-0.01583 -3.731064,0.268132 -4.883258,0.04731 -1.152193,-0.220821 -1.004825,-0.94652 0.247878,-1.277853 1.252702,-0.331332 3.609875,-0.268248 4.73865,-0.401887 1.128774,-0.133638 1.027862,-0.463929 -0.04391,-0.68485 -1.071773,-0.22092 -3.114339,-0.332249 -4.135667,-0.608735 -1.021328,-0.276487 -1.021328,-0.718217 -0.163856,-0.939132 0.857472,-0.220915 2.57227,-0.220915 4.066066,-0.185415 1.493797,0.0355 2.766463,0.106489 3.409502,-0.05518 0.643039,-0.161666 0.656435,-0.556056 0.03016,-0.883447 -0.626271,-0.327391 -1.892299,-0.587694 -2.686091,-0.950507 -0.793792,-0.362812 -1.115314,-0.828194 -0.723435,-1.041225 0.391878,-0.21303 1.497122,-0.173591 2.692839,0.06701 1.195717,0.240605 2.481814,0.682325 3.332519,1.234528 0.850705,0.552203 1.265999,1.214773 1.855488,1.498695 0.589489,0.283922 1.353106,0.189268 3.905276,-1.309489 2.5521702,-1.498756 6.892757,-4.4015 9.0898799,-6.168386 2.19712289,-1.766887 2.25070947,-2.397917 1.90239875,-3.691566 -0.34831075,-1.293649 -1.09853605,-3.249849 -1.58084675,-5.016787 -0.4823108,-1.766937 -0.696662,-3.344527 -1.6344465,-5.143021 -0.9377845,-1.798494 -2.5990017,-3.817801 -3.6439836,-5.111444 -1.0449819,-1.293644 -1.4736779,-1.861567 -1.8495447,-2.11842 -0.3758668,-0.256853 -0.8030921,-0.184984 -0.9102881,0.288363 -0.107196,0.473346 0.05357,1.356787 0.334551,1.916584 0.2809841,0.559798 0.7372733,0.828457 0.9783774,1.459532 0.2411041,0.631074 0.2946907,1.640724 0.5894741,2.177069 0.2947833,0.536346 0.8306591,0.599448 1.3397286,1.356761 0.5090695,0.757314 0.9913549,2.208685 0.9645591,3.028989 -0.026796,0.820304 -0.5626691,1.009613 -0.4018903,1.924699 0.1607788,0.915086 1.0181775,2.555764 0.9377511,4.322672 -0.080426,1.766908 -1.0985916,3.660007 -2.9339887,4.890527 -1.8353973,1.230519 -4.4879243,1.79844 -6.5243253,1.041223 -2.036402,-0.757217 -3.456468,-2.839622 -4.005786,-4.70123 -0.549318,-1.861609 -0.227794,-3.502289 -0.334925,-4.354232 -0.107132,-0.851942 -0.643009,-0.915045 -0.750233,-1.735386 -0.107224,-0.820341 0.214302,-2.397921 0.482292,-3.186761 0.26799,-0.788841 0.589517,-0.788841 0.696658,-1.41985 0.10714,-0.631008 0.05355,-1.893078 0.16072,-2.745019 0.107168,-0.85194 0.375108,-1.293669 0.375123,-2.240215 1.5e-5,-0.946546 -0.267922,-2.397916 -0.562624,-3.15521 -0.294703,-0.757293 -0.616231,-0.820396 -2.384682,-1.514547 -1.768451,-0.69415 -4.983701,-2.019317 -6.96649,-2.997425 -1.982788,-0.978108 -2.733011,-1.609139 -3.483295,-4.701293 -0.750283,-3.0921542 -1.500509,-8.6452341 -2.250762,-14.1985226"

WAVE3 = "M 0.67044437,0.53334045 C -0.11760619,4.9523202 -0.92106853,9.4577213 -1.0347073,12.20197 c -0.1136388,2.744248 0.45474253,3.770523 1.85679316,3.926634 1.40205064,0.156112 3.63768264,-0.557819 6.57440884,-1.628751 2.9367263,-1.070932 6.5743653,-2.498793 8.9426973,-2.56566 2.368332,-0.06687 3.467202,1.227131 10.323226,9.691978 6.856023,8.464848 19.467663,24.098634 26.513096,32.317946 7.045432,8.219313 8.523043,9.022388 9.60308,9.714088 1.080037,0.691699 1.762093,1.271767 2.917804,1.717948 1.155711,0.446182 2.784162,0.758352 3.542457,1.204696 0.758296,0.446345 0.644619,1.026411 -0.249966,1.054459 -0.894585,0.02805 -2.57051,-0.495995 -3.48573,-0.596693 -0.91522,-0.100699 -1.066611,0.222424 -0.166668,1.092759 0.899943,0.870336 2.849873,2.285944 3.670005,3.212369 0.820132,0.926425 0.507748,1.361165 -0.482281,0.887228 -0.990029,-0.473936 -2.654813,-1.85513 -3.565529,-2.436252 -0.910716,-0.581122 -1.060591,-0.360514 -0.218978,0.743455 0.841613,1.103969 2.641858,3.047225 3.267589,4.207922 0.625731,1.160698 0.05762,1.517493 -1.0035,0.669799 -1.061121,-0.847694 -2.614696,-2.900244 -3.486166,-3.792863 -0.871469,-0.892618 -1.060905,-0.624931 -0.416794,0.513147 0.644111,1.138077 2.120734,3.144422 2.651786,4.283016 0.531052,1.138594 0.114504,1.406147 -0.681362,0.781566 -0.795865,-0.624581 -1.97052,-2.141683 -2.880032,-3.391206 -0.909512,-1.249522 -1.553413,-2.230773 -2.10291,-2.744054 -0.549496,-0.513282 -1.00397,-0.557879 -0.947265,0.200738 0.05671,0.758618 0.624622,2.319065 0.681672,3.279016 0.05705,0.959951 -0.397656,1.316918 -0.965859,0.64807 C 58.288665,74.524476 57.606254,72.828011 57.28415,71.243656 56.962047,69.6593 56.999926,68.187355 56.715632,66.893105 56.431338,65.598854 55.825305,64.48378 49.138936,56.865807 42.452566,49.247835 29.69098,35.132852 22.778259,27.895266 15.865539,20.65768 14.804561,20.300715 12.303548,21.795554 c -2.5010138,1.494839 -6.4417887,4.841388 -9.4732153,6.871669 -3.03142655,2.03028 -5.1533837,2.744211 -7.2185489,3.190432 -2.0651651,0.446221 -4.0734438,0.624704 -5.342876,0.825499 -1.2694318,0.200796 -1.7999208,0.423898 -2.0651878,1.294085 -0.265266,0.870186 -0.265266,2.387289 0.01897,3.525148 0.284236,1.13786 0.852618,1.896411 1.117829,2.521112 0.265211,0.624701 0.227319,1.115528 0.388214,1.405659 0.160895,0.290131 0.5545711,0.388102 0.9145181,1.191329 0.359947,0.803227 0.703282,2.315876 0.6854779,3.183699 -0.017804,0.867824 -0.3967243,1.090926 -0.3588239,2.18423 0.0379,1.093304 0.4926059,3.056615 -0.1894985,4.93069 -0.6821044,1.874074 -2.5009236,3.6589 -4.6228976,4.261293 -2.121973,0.602393 -4.547065,0.02233 -6.32806,-1.383236 -1.780994,-1.405561 -2.917756,-3.636594 -3.207449,-5.189809 -0.289693,-1.553214 0.289624,-2.462797 0.384407,-3.042862 0.09478,-0.580064 -0.284136,-0.847788 -0.284187,-1.762545 -5.2e-5,-0.914756 0.378869,-2.476481 0.704076,-3.317331 0.325206,-0.840849 0.660054,-0.988714 0.81161,-1.412574 0.151556,-0.42386 0.151556,-1.316274 0.397856,-2.052572 0.246301,-0.736297 0.738897,-1.405606 0.966263,-2.431881 0.227366,-1.026275 0.189474,-2.409514 -0.09468,-3.279652 -0.284156,-0.870138 -0.814644,-1.227103 -3.050359,-2.208805 -2.235714,-0.981702 -6.176489,-2.588046 -8.506945,-5.622325 -2.330457,-3.034278 -3.050406,-7.496344 -3.703785,-11.837089 -0.653379,-4.3407438 -1.240149,-8.5599109 -1.826944,-12.77926355"


pawn = Curve(PAWN)
knight = Curve(KNIGHT)
bishop = Curve(BISHOP)
rook = Curve(ROOK)
queen = Curve(QUEEN)
king = Curve(KING)
hand3 = Curve(HAND3)
hand5 = Curve(HAND5)
